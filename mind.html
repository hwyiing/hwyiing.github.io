<html>

<head>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
  <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.0/dist/mindar-image.prod.js"></script>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.0/dist/mindar-image-aframe.prod.js"></script>
  <script>

    document.addEventListener("DOMContentLoaded", function () {

      const sceneEl = document.querySelector('a-scene');
      const arSystem = sceneEl.systems["mindar-image-system"];
      const exampleTarget = document.querySelector('#example-target');
      const examplePlane = document.querySelector('#example-plane');

      // arReady event triggered when ready
      sceneEl.addEventListener("arReady", (event) => {
        console.log("MindAR is ready")
      });

      // arError event triggered when something went wrong. Mostly browser compatbility issue
      sceneEl.addEventListener("arError", (event) => {
        console.log("MindAR failed to start")
      });

      exampleTarget.addEventListener("targetFound", event => {
        console.log("target found");
      });

      // detect target lost
      exampleTarget.addEventListener("targetLost", event => {
        console.log("target lost");
      });



      // detect click event
      examplePlane.addEventListener("click", event => {
        console.log("plane click");
      });

    });



  </script>
</head>

<body>
  <a-scene mindar-image="imageTargetSrc: ./targets.mind;" color-space="sRGB"
    renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false">
    <a-assets>
      Â <video id='vid'
        src="https://res.cloudinary.com/daqm1fsjr/video/upload/v1641141778/original-9D92B4C7-76C9-4952-99F9-491DE7924EEF_ms5gu7.mp4"
        crossorigin="anonymous"></video>

      <video id="vid1" src="https://res.cloudinary.com/daqm1fsjr/video/upload/v1641141809/Video1_xjrzlx.mp4"
        crossorigin="anonymous">
      </video>
    </a-assets>

    <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;"
      raycaster="far: 10000; objects: .clickable"></a-camera>

    <a-entity id="example-target" mindar-image-target="targetIndex: 0">
      <a-plane id="example-plane" class="clickable" color="blue" opaciy="0.5" position="0 0 0" height="0.552" width="1"
        rotation="0 0 0"></a-plane>
    </a-entity>

    <a-entity mindar-image-target="targetIndex: 1">
      <a-plane src="#vid1" position="0 0 0" rotation="0 0 0"></a-plane>
    </a-entity>


  </a-scene>

  <!-- <script>
    window.addEventListener('click', function () {
      var v = document.querySelector('#vid');
      v.play();
    });
  </script> -->
</body>

</html>