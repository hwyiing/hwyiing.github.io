<html>

<head>
  <link rel="shortcut icon" href="./favicon/favicon.ico">
  <link rel="icon" type="image/gif" href="./favicon/animated_favicon1.gif">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=yes">
  <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.0/dist/mindar-image.prod.js"></script>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.0.0/dist/mindar-image-aframe.prod.js"></script>
  <script>

    document.addEventListener("DOMContentLoaded", function () {

      const sceneEl = document.querySelector('a-scene');
      const arSystem = sceneEl.systems["mindar-image-system"];

      // arReady event triggered when ready
      sceneEl.addEventListener("arReady", (event) => {
        console.log("MindAR is ready")
      });

      // arError event triggered when something went wrong. Mostly browser compatbility issue
      sceneEl.addEventListener("arError", (event) => {
        console.log("MindAR failed to start")
      });

    });

    window.addEventListener("load", function () {
      const exampleTarget = document.querySelector('#example-target');
      const examplePlane = document.querySelector('#example-plane');

      //detect target found
      exampleTarget.addEventListener("targetFound", event => {
        console.log("example target found");
      });

      // detect target lost
      exampleTarget.addEventListener("targetLost", event => {
        console.log("example target lost");
      });

      // detect click event
      examplePlane.addEventListener("click", event => {
        console.log("plane click");

        var v = document.querySelector('#vid2');
        v.play();

      });

      const myTarget = document.querySelector('#my-target');
      const myPlane = document.querySelector("#my-plane");
      myTarget.addEventListener("targetFound", event => {
          console.log("my target found");
        });

        // detect target lost
        myTarget.addEventListener("targetLost", event => {
          console.log("my target lost");
        });

        // detect click event
        myPlane.addEventListener("click", event => {
          console.log("my plane click");

          var vid = document.querySelector('#vid1');
          vid.play();
        });


    });







  </script>
</head>

<body>
  <a-scene mindar-image="imageTargetSrc: ./targets.mind;" color-space="sRGB"
    renderer="colorManagement: true, physicallyCorrectLights" vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: false">
    <a-assets>
      Â <video id="vid2"
        src="https://res.cloudinary.com/daqm1fsjr/video/upload/v1641141778/original-9D92B4C7-76C9-4952-99F9-491DE7924EEF_ms5gu7.mp4"
        crossorigin="anonymous">
      </video>

      <video id="vid1" src="https://res.cloudinary.com/daqm1fsjr/video/upload/v1641141809/Video1_xjrzlx.mp4"
        crossorigin="anonymous">
      </video>
    </a-assets>

    <a-camera position="0 0 0" look-controls="enabled: false" cursor="fuse: false; rayOrigin: mouse;"
      raycaster="far: 10000; objects: .clickable"></a-camera>

    <a-entity id="example-target" mindar-image-target="targetIndex: 0">
      <a-plane id="example-plane" class="clickable" src="#vid2" width="0.552" height="1" scale = "1.5 1.5 1.5" position="0 0 0" rotation="0 0 0"></a-plane>
    </a-entity>

    <a-entity id="my-target" mindar-image-target="targetIndex: 1">
      <a-plane id="my-plane" class="clickable" src="#vid1" height="0.552" width="1" position="0 0 0" rotation="0 0 0"></a-plane>
    </a-entity>


  </a-scene>
</body>

</html>